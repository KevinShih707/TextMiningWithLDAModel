{% extends "basic.html" %}

{% block head_script %}
    {% load static %}
    <script type="text/javascript" src="{% static 'js/d3.v3.js' %}"></script><!-- D3一定要先載入 NVD3一定要後載 -->
{% endblock %}

{% block stylesheet %}
    <link type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.6/nv.d3.min.css" rel="stylesheet" />
    <style type="text/css">
    /* 圖表文字 字體 */
    .nvd3 text {
        font: normal 12px "Noto Sans TC", sans-serif;
    }
    /* X軸字體顏色大小 */
    .nv-x text{
      font-size: 20px;
      fill: #bdbdae;
    }
    /* Y軸字體顏色大小 */
    .nv-y text{
      font-size: 16px;
      fill: #bdbdae;
    }
    /* 指標移到上面顯示的字體 */
    .nvtooltip {
        font-family: "Noto Sans TC", sans-serif;
        font-size: 17px;
    }
    /* 以下2個為圖表格線 */
    /* 背景網格 */
    .nvd3 .nv-axis line {
        stroke: #fff;
        stroke-opacity: .3;
    }
    /* X軸那條垂直線 */
    .nvd3 .nv-axis path {
        stroke: #fff;
        stroke-opacity: .75;
    }
    </style>
{% endblock %}

{% block mainbody %}
{% load static %}
<div class="uk-section uk-padding uk-preserve-color" uk-height-viewport="offset-top: true" style="background: #404040;">
    <div class="uk-grid-small uk-padding uk-text-center uk-padding-remove-horizontal" uk-grid>

        {# 長條圖 #}
        <div class="uk-width-1-1">
            <div class="uk-tile uk-padding-remove">
                <div id="discreteBarChart">
                    <svg class="d3-RWD" style="height:400px; width: 100%;"></svg>
                </div>
            </div>
        </div>

        {% for topic in wc_url %}
        <div class="uk-grid-small uk-grid-match" uk-grid>
            <div id="topic-{{ forloop.counter0 }}" class="uk-hidden">
                {# 這裡放WC #}
                <div class="uk-width-expand">
                    <div class="uk-tile uk-background-secondary uk-padding-remove">
                        <img data-src="{{ topic }}" class="uk-animation-fade" uk-img>
                    </div>
                </div>

                {# 放代表性文章 #}
                <div class="uk-width-1-3 uk-grid-item-match noto">
                    <div class="uk-tile uk-text-left" style="background: #d9d9d9;">
                        <legend class="uk-legend">
                            Lorem ipsum dolor sit amet
                        </legend>

                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.

                        </p>
                    </div>
                </div>

                {# 這裡放主題內文章列表 #}
                <div class="uk-width-1-1  uk-light">
                    <div class="uk-tile uk-background-secondary uk-padding-small">
                        <div class="uk-margin-left uk-margin-right uk-text-left">
                        <legend class="uk-legend">
                            Lorem ipsum dolor sit amet
                        </legend>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                        </p>
                        </div>
                    </div>
                </div>

                <div class="uk-width-1-1  uk-light">
                    <div class="uk-tile uk-background-secondary uk-padding-small">
                        <div class="uk-margin-left uk-margin-right uk-text-left">
                        <legend class="uk-legend">
                            Lorem ipsum dolor sit amet
                        </legend>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                        </p>
                        </div>
                    </div>
                </div>

                <div class="uk-width-1-1  uk-light">
                    <div class="uk-tile uk-background-secondary uk-padding-small">
                        <div class="uk-margin-left uk-margin-right uk-text-left">
                        <legend class="uk-legend">
                            Lorem ipsum dolor sit amet
                        </legend>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                        </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}

    </div>
</div>

<!-- 把 script 載入標籤盡量放在body尾端 速度考量 -->
<script>
var data_discreteBarChart = {{ data|safe }};
document.getElementById("topic-0").classList.remove("uk-hidden");
</script>
<script type="text/javascript" src="{% static 'js/nv.d3.js' %}"></script>
<script type="text/javascript" src="{% static 'js/barchart.js' %}"></script>
<script src="{% static 'js/navbar.bg.js' %}"></script>
{% endblock %}